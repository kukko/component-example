@for (node of nodes(); track $index) {
  @if (contentTemplate){
  <ng-container *ngTemplateOutlet="contentTemplate; context: { $implicit: node, toggle: getToggleNodeFunction($index), isOpened: nodeIsOpened($index), parent: node.parent, level: getLevelOfNode(node) }" (click)="toggleNode($index)"></ng-container>
  }
  @else {
  <div (click)="toggleNode($index)">
    {{ node.label }}
  </div>
  }
  <!-- <li (click)="toggleNode($index)">{{ node.label }}</li> -->
  @if (node.children){
    <app-tree #childTree [nodes]="getChildrenForChildTree(node)!" (nodeToggled)="nodeToggled.emit($event)" [contentTemplate]="contentTemplate" [style.display]="nodeIsOpened($index) ? 'block' : 'none'"></app-tree>
  }
}
